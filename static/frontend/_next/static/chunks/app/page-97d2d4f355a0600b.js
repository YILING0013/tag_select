(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6330:(e,t,n)=>{Promise.resolve().then(n.bind(n,7789))},7789:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>M});var l=n(5155),r=n(2115),a=n(9552),i=n(424),s=n(6398),o=n(4522),c=n(9883),d=n(8998),x=n(810),u=n(6036),h=n(2786),p=n(2844),f=n(4665),g=n(2479),m=n(8648),j=n(9987),A=n(6854),y=n(9030),b=n(8222),C=n(5330),v=n(9234),w=n(7852),T=n(5480);let k=e=>{let[t,n]=r.useState(0),[a,i]=r.useState([]),[s,o]=r.useState([]),[c,u]=r.useState({}),[h,p]=r.useState(!1),[k,S]=r.useState(null),[E,z]=r.useState(null),[_,D]=r.useState(null);r.useEffect(()=>{!async function(){p(!0);try{let e=await fetch("/api/json-files"),t=await e.json();i(t)}catch(e){console.error("Error fetching JSON files:",e)}finally{p(!1)}}()},[]);let q=async e=>{p(!0);try{let t=await fetch("/api/json-files/".concat(e,"/keys")),n=await t.json();o(n)}catch(e){console.error("Error loading JSON keys:",e)}finally{p(!1)}},W=async(e,t)=>{p(!0);try{let n=await fetch("/api/json-files/".concat(e,"/keys/").concat(t)),l=await n.json();u(e=>({...e,[t]:l}))}catch(e){console.error("Error loading JSON key content:",e)}finally{p(!1)}},R=e=>{S(k===e?null:e),c[e]||W(a[t],e)};r.useEffect(()=>{a.length>0&&q(a[0])},[a]);let I=(e,t)=>{e.preventDefault(),D(t),z(e.currentTarget)},O=e=>{e=e.replace(/ /g,"_");let t="https://danbooru.donmai.us/posts?tags=".concat(e);window.open(t,"_blank"),z(null)};return(0,l.jsxs)(f.A,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:[(0,l.jsxs)(g.A,{sx:{height:"100%",display:"flex",flexDirection:"column",gap:2,p:3,overflow:"auto"},children:[(0,l.jsx)(m.A,{value:t,onChange:(e,t)=>{n(t),u({}),q(a[t])},variant:"scrollable",scrollButtons:"auto",sx:{px:2},children:a.map(e=>(0,l.jsx)(j.A,{label:e.replace(".json","")},e))}),(0,l.jsx)(d.A,{sx:{flex:1,p:2,borderTop:"1px solid",borderColor:"divider",overflowY:"auto"},children:h?(0,l.jsx)(A.A,{}):(0,l.jsx)(l.Fragment,{children:s.length>0?s.map(t=>(0,l.jsxs)(y.A,{expanded:k===t,onChange:()=>R(t),children:[(0,l.jsx)(b.A,{children:(0,l.jsx)(x.A,{variant:"body1",children:t})}),(0,l.jsx)(C.A,{children:(0,l.jsx)(d.A,{sx:{display:"flex",flexWrap:"wrap",gap:1},children:c[t]?Object.entries(c[t]).map(t=>{let[n,r]=t;return(0,l.jsx)(v.A,{label:"".concat(r," (").concat(n,")"),variant:"outlined",size:"small",onClick:()=>{e.onAddTag&&e.onAddTag({cnText:r,originalEnText:n,curlyCount:0,squareCount:0})},onContextMenu:e=>I(e,n)},n)}):(0,l.jsx)(A.A,{size:20})})})]},t)):(0,l.jsx)(x.A,{variant:"body2",children:"请选择一个选项卡"})})})]}),(0,l.jsx)(w.A,{anchorEl:E,open:!!E,onClose:()=>{z(null)},MenuListProps:{"aria-labelledby":"basic-button"},children:(0,l.jsx)(T.A,{onClick:()=>O(_),children:"在Danbooru上预览"})})]})};var S=n(2401),E=n(2282),z=n(1396),_=n(6656),D=n(5394),q=n(4616),W=n(2688),R=n(679),I=n(5933);let O=e=>{let{onAddTag:t,setApiError:n}=e,[a,i]=r.useState(3),[s,o]=r.useState(""),[c,u]=r.useState([]),[h,p]=r.useState(null),[A,y]=r.useState(""),[b,C]=r.useState([]),[v,w]=r.useState(!1),[T,k]=r.useState(null),[O,N]=r.useState(""),[P,H]=r.useState(""),[B,U]=r.useState([]),[Y,J]=r.useState(null),G={flex:1,minHeight:0,overflowY:"auto",p:1,border:"1px solid",borderColor:"divider",borderRadius:1,bgcolor:"background.paper"},F={m:.5,textTransform:"none",fontSize:"0.75rem",py:.25,px:1,color:"text.secondary",borderWidth:1,"&:hover":{borderWidth:1}},L=async()=>{if(!s.trim())return;p(null);let e=s.split(",").map(e=>e.trim()).filter(e=>e);try{let t=await fetch("/api/Tagtranslate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({texts:e})});if(403===t.status){let e="翻译请求被拒绝，请先完成人机验证。";p(e),n({status:403,message:e});return}if(!t.ok)throw Error("翻译API错误: ".concat(t.statusText));let l=(await t.json()).translated_texts,r=e.map((e,t)=>({originalEnText:e,cnText:l&&l[t]?l[t]:e,curlyCount:0,squareCount:0}));u(e=>[...e,...r])}catch(n){p(n.message);let t=e.map(e=>({originalEnText:e,cnText:e,curlyCount:0,squareCount:0}));u(e=>[...e,...t])}},M=()=>{u([]),p(null)},V=e=>{let t=new DOMParser().parseFromString(e,"text/html").querySelectorAll("[data-tag-name]"),n=[];return t.forEach(e=>{let t=e.getAttribute("data-tag-name").replace(/_/g," "),l="true"===e.getAttribute("data-is-deprecated"),r=Array.from(e.querySelectorAll("a")).map(e=>e.textContent.trim()),a=e.querySelector(".post-count"),i=a?a.getAttribute("title"):null;n.push({tag_name:t,is_deprecated:l,links:r,post_count:i})}),n},K=async()=>{if(A.trim()){w(!0),k(null);try{let e=await fetch(A,{method:"GET",mode:"cors",headers:{"User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36"}});if(403===e.status){let e="访问被拒绝，请先完成人机验证。";k(e),n({status:403,message:e});return}if(!e.ok)throw Error("HTTP ".concat(e.status,": ").concat(e.statusText));let t=await e.text(),l=V(t);if(0===l.length){k("未找到任何标签，请检查URL是否正确。");return}let r=l.map(e=>e.tag_name),a=await fetch("/api/Tagtranslate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({texts:r})});if(!a.ok)throw Error("翻译API调用失败");let i=(await a.json()).translated_texts,s=l.map((e,t)=>({originalEnText:e.tag_name,cnText:i&&i[t]?i[t]:e.tag_name,curlyCount:0,squareCount:0,is_deprecated:e.is_deprecated,post_count:e.post_count}));C(e=>[...e,...s])}catch(t){let e="加载失败: "+t.message;"TypeError"===t.name&&t.message.includes("Failed to fetch")&&(e="无法访问该网站，可能是CORS跨域问题或网络连接错误。"),k(e)}finally{w(!1)}}},Q=()=>{C([]),k(null)},Z=async e=>{if(O.trim()){J(null);try{let t="/search/".concat(e,"?query=").concat(encodeURIComponent(O))+(P.trim()?"&max_results=".concat(encodeURIComponent(P)):""),l=await fetch(t);if(403===l.status){let e="搜索请求被拒绝，请先完成人机验证。";J(e),n({status:403,message:e});return}if(!l.ok)throw Error("搜索失败，状态码: ".concat(l.status));let r=(await l.json()).map(e=>{let t=Object.keys(e)[0];return{originalEnText:t,cnText:e[t]||t,curlyCount:0,squareCount:0}});U(e=>[...e,...r])}catch(e){J(e.message)}}},X=()=>{U([]),J(null)};return(0,l.jsx)(f.A,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:(0,l.jsxs)(g.A,{sx:{flex:1,display:"flex",flexDirection:"column",p:0,minHeight:0},children:[(0,l.jsx)(m.A,{value:a,onChange:(e,t)=>{i(t)},variant:"fullWidth",sx:{borderBottom:1,borderColor:"divider"},children:["自定义","D站Tag导入","Tag搜索","关于"].map(e=>(0,l.jsx)(j.A,{label:e},e))}),(0,l.jsx)(d.A,{sx:{flex:1,p:2,overflow:"hidden",display:"flex",flexDirection:"column",gap:2,height:"100%"},children:(e=>{switch(e){case 0:return(0,l.jsxs)(d.A,{sx:{height:"100%",display:"flex",flexDirection:"column",gap:2,p:2},children:[(0,l.jsxs)(d.A,{sx:{display:"flex",gap:2,alignItems:"flex-start"},children:[(0,l.jsx)(d.A,{sx:{flex:1},children:(0,l.jsx)(S.A,{fullWidth:!0,multiline:!0,minRows:3,maxRows:5,placeholder:"请在此输入你的tag串, tag将按照逗号划分开并添加为页面元素",value:s,onChange:e=>o(e.target.value)})}),(0,l.jsxs)(d.A,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,l.jsx)(E.A,{variant:"contained",onClick:L,size:"small",children:"加载"}),(0,l.jsx)(E.A,{variant:"outlined",color:"error",onClick:M,size:"small",children:"清空"})]})]}),h&&(0,l.jsx)(z.A,{severity:"error",sx:{mt:1},children:h}),(0,l.jsx)(d.A,{sx:G,children:c.map((e,n)=>(0,l.jsx)(E.A,{variant:"outlined",size:"small",onClick:()=>t&&t(e),sx:F,children:"".concat(e.cnText," (").concat(e.originalEnText,")")},n))})]});case 1:return(0,l.jsxs)(d.A,{sx:{height:"100%",display:"flex",flexDirection:"column",gap:2,p:2},children:[(0,l.jsxs)(d.A,{sx:{display:"flex",gap:2,alignItems:"flex-start"},children:[(0,l.jsx)(S.A,{fullWidth:!0,multiline:!0,minRows:3,maxRows:4,placeholder:"D站图像网址示例：https://danbooru.donmai.us/posts/114514",value:A,onChange:e=>y(e.target.value)}),(0,l.jsxs)(d.A,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,l.jsx)(E.A,{variant:"contained",onClick:K,size:"small",disabled:v,children:v?"加载中...":"解析"}),(0,l.jsx)(E.A,{variant:"outlined",color:"error",onClick:Q,size:"small",children:"清空"})]})]}),T&&(0,l.jsx)(z.A,{severity:"error",sx:{mt:1},children:T}),(0,l.jsx)(d.A,{sx:G,children:b.map((e,n)=>(0,l.jsx)(E.A,{variant:"outlined",size:"small",onClick:()=>t&&t(e),sx:F,children:"".concat(e.cnText," (").concat(e.originalEnText,")")},n))})]});case 2:return(0,l.jsxs)(d.A,{sx:{height:"100%",display:"flex",flexDirection:"column",gap:2,p:2},children:[(0,l.jsxs)(d.A,{sx:{display:"flex",gap:2,alignItems:"center"},children:[(0,l.jsx)(S.A,{fullWidth:!0,placeholder:"搜索内容（中英文皆可）",value:O,onChange:e=>N(e.target.value)}),(0,l.jsx)(S.A,{placeholder:"返回量",value:P,onChange:e=>H(e.target.value),sx:{width:100}})]}),(0,l.jsxs)(d.A,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[(0,l.jsx)(E.A,{variant:"contained",onClick:()=>Z("regular_expression"),size:"small",children:"正则"}),(0,l.jsx)(E.A,{variant:"contained",onClick:()=>Z("fuzzy_search"),size:"small",children:"模糊"}),(0,l.jsx)(E.A,{variant:"contained",onClick:()=>Z("exact_search"),size:"small",children:"精确"}),(0,l.jsx)(E.A,{variant:"outlined",color:"error",onClick:X,size:"small",children:"清空"})]}),Y&&(0,l.jsx)(z.A,{severity:"error",sx:{mt:1},children:Y}),(0,l.jsx)(d.A,{sx:G,children:B.map((e,n)=>(0,l.jsx)(E.A,{variant:"outlined",size:"small",onClick:()=>t&&t(e),sx:F,children:"".concat(e.cnText," (").concat(e.originalEnText,")")},n))})]});default:return(0,l.jsxs)(d.A,{sx:{height:"100%",display:"flex",flexDirection:"column",gap:2,p:3,overflow:"auto"},children:[(0,l.jsx)(x.A,{variant:"h5",sx:{fontWeight:600,color:"primary.main",borderBottom:"2px solid",borderColor:"primary.main",pb:1},children:"关于我们"}),(0,l.jsxs)(d.A,{sx:{display:"grid",gridTemplateColumns:{xs:"1fr",md:"1fr 1fr"},gap:3,flexGrow:1},children:[(0,l.jsxs)(d.A,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,l.jsxs)(f.A,{variant:"outlined",sx:{p:2},children:[(0,l.jsx)(x.A,{variant:"subtitle1",sx:{mb:1,fontWeight:500},children:"网站信息"}),(0,l.jsxs)(x.A,{variant:"body2",sx:{lineHeight:1.6},children:["本平台是",(0,l.jsx)("b",{children:"Xianyun Draw Web"}),"生态的组成部分，提供专业的词条管理服务。 所有服务均免费提供，遵循"," ",(0,l.jsx)(_.A,{href:"https://nai.idlecloud.cc/terms",target:"_blank",rel:"noopener",children:"用户协议"}),"。"]})]}),(0,l.jsxs)(f.A,{variant:"outlined",sx:{p:2},children:[(0,l.jsx)(x.A,{variant:"subtitle1",sx:{mb:1,fontWeight:500},children:"开发相关"}),(0,l.jsxs)(d.A,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,l.jsxs)(_.A,{href:"https://github.com/YILING0013",target:"_blank",rel:"noopener",sx:{display:"flex",alignItems:"center",gap:1,color:"inherit"},children:[(0,l.jsx)(D.A,{fontSize:"small"})," GitHub 仓库"]}),(0,l.jsxs)(_.A,{href:"https://nai.idlecloud.cc",target:"_blank",rel:"noopener",sx:{display:"flex",alignItems:"center",gap:1,color:"inherit"},children:[(0,l.jsx)(q.A,{fontSize:"small"})," 绘图主站"]})]})]})]}),(0,l.jsxs)(d.A,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,l.jsxs)(f.A,{variant:"outlined",sx:{p:2},children:[(0,l.jsx)(x.A,{variant:"subtitle1",sx:{mb:1,fontWeight:500},children:"社区互动"}),(0,l.jsxs)(d.A,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,l.jsx)(E.A,{variant:"outlined",startIcon:(0,l.jsx)(W.A,{}),href:"http://qm.qq.com/cgi-bin/qm/qr?_wv=1027&k=CdpNbaIcbz34wRENnz51fq4cmn8w97_u&authKey=lWSd%2BdH732ZphzYm6of0vZOq2k16qOUfHTK19kWRaJ73%2BdtcVBzWLHdYcVPo2Z5V&noverify=0&group_code=619176101",target:"_blank",sx:{justifyContent:"flex-start"},children:"加入QQ群"}),(0,l.jsx)(E.A,{variant:"outlined",startIcon:(0,l.jsx)(R.A,{}),href:"https://space.bilibili.com/487156342",target:"_blank",sx:{justifyContent:"flex-start"},children:"Bilibili频道"})]})]}),(0,l.jsx)(f.A,{variant:"outlined",sx:{p:2,background:e=>"light"===e.palette.mode?"linear-gradient(45deg, #ffe9e9 30%, #f6f3ff 90%)":"linear-gradient(45deg, #2a2a2a 30%, #1a1a1a 90%)"},children:(0,l.jsxs)(d.A,{sx:{textAlign:"center"},children:[(0,l.jsx)(x.A,{variant:"subtitle1",sx:{mb:1,fontWeight:500},children:"支持我们"}),(0,l.jsx)(d.A,{sx:{width:80,height:80,margin:"0 auto 16px",background:"url(https://afdian.com/static/img/logo/logo.png) center/contain no-repeat"}}),(0,l.jsx)(E.A,{variant:"contained",color:"secondary",endIcon:(0,l.jsx)(I.A,{}),href:"https://afdian.com/a/lingyunfei",target:"_blank",sx:{borderRadius:20,px:4,textTransform:"none",boxShadow:1,"&:hover":{boxShadow:3}},children:"爱发电赞助"})]})})]})]}),(0,l.jsxs)(x.A,{variant:"caption",sx:{color:"text.secondary",textAlign:"center",mt:2},children:["\xa9 ",new Date().getFullYear()," Xianyun Project. All rights reserved."]})]})}})(a)})]})})};var N=n(1163),P=n(894),H=n(7740),B=n(7881),U=n(450);let Y=e=>{let{tag:t,onUpdateTag:n,onDeleteTag:r,useRoundWeightSymbol:a}=e;return(0,l.jsxs)(d.A,{sx:{display:"inline-flex",alignItems:"center",border:"1px solid #ccc",borderRadius:1,p:.5,m:.2,backgroundColor:"#f9f9f9",cursor:"move"},"data-id":t.id,children:[(0,l.jsx)(P.A,{size:"small",sx:{p:.2},onClick:()=>{t.squareCount>0?n({...t,squareCount:t.squareCount-1}):n({...t,curlyCount:t.curlyCount+1})},children:(0,l.jsx)(H.A,{fontSize:"inherit"})}),(0,l.jsx)(P.A,{size:"small",sx:{p:.2},onClick:()=>{t.curlyCount>0?n({...t,curlyCount:t.curlyCount-1}):n({...t,squareCount:t.squareCount+1})},children:(0,l.jsx)(B.A,{fontSize:"inherit"})}),(0,l.jsx)(x.A,{variant:"body2",sx:{mx:.2},children:t.cnText}),(0,l.jsx)(x.A,{variant:"body2",sx:{mx:.5},children:t.curlyCount>0?(a?"(":"{").repeat(t.curlyCount)+t.originalEnText+(a?")":"}").repeat(t.curlyCount):t.squareCount>0?"[".repeat(t.squareCount)+t.originalEnText+"]".repeat(t.squareCount):t.originalEnText}),(0,l.jsx)(P.A,{size:"small",sx:{p:.2},onClick:()=>r(t.id),children:(0,l.jsx)(U.A,{fontSize:"inherit"})})]})},J=e=>{let{tags:t,onUpdateTag:n,onDeleteTag:i,onReorderTags:s,onClearTags:o}=e,[c,x]=r.useState(!1),h=()=>t.map(e=>{if(e.curlyCount>0){let t=c?"(":"{",n=c?")":"}";return t.repeat(e.curlyCount)+e.originalEnText+n.repeat(e.curlyCount)}return e.squareCount>0?"[".repeat(e.squareCount)+e.originalEnText+"]".repeat(e.squareCount):e.originalEnText}).join(", ");return(0,l.jsx)(a.A,{maxWidth:!1,disableGutters:!0,children:(0,l.jsxs)(u.A,{container:!0,spacing:.5,children:[(0,l.jsx)(u.A,{size:{xs:12,md:8},children:(0,l.jsx)(f.A,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:(0,l.jsx)(g.A,{sx:{flex:1,display:"flex",minHeight:250,flexDirection:"column"},children:(0,l.jsx)(d.A,{sx:{flex:1,p:1,border:"1px dashed grey",borderRadius:1,overflowY:"auto",display:"flex",flexWrap:"wrap"},children:(0,l.jsx)(N.ReactSortable,{list:t,setList:s,tag:"div",options:{animation:150},children:t.map(e=>(0,l.jsx)(Y,{tag:e,onUpdateTag:n,onDeleteTag:i,useRoundWeightSymbol:c},e.id))})})})})}),(0,l.jsx)(u.A,{size:{xs:12,md:4},children:(0,l.jsx)(f.A,{sx:{height:"100%",display:"flex",flexDirection:"column"},children:(0,l.jsxs)(g.A,{sx:{flex:1,display:"flex",flexDirection:"column",gap:2},children:[(0,l.jsx)(S.A,{fullWidth:!0,multiline:!0,minRows:5,maxRows:5,placeholder:"这里是调整后的词条输出",value:h(),"aria-readonly":"true"}),(0,l.jsxs)(d.A,{sx:{display:"flex",justifyContent:"space-between",gap:2},children:[(0,l.jsx)(E.A,{variant:"contained",color:"primary",fullWidth:!0,onClick:()=>{let e=h(),t=()=>{let t=document.createElement("textarea");t.value=e,t.style.position="fixed",t.style.opacity="0",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")?alert("已复制到剪贴板！"):alert("复制失败")}catch(e){alert("复制失败")}document.body.removeChild(t)};navigator.clipboard&&navigator.clipboard.writeText?navigator.clipboard.writeText(e).then(()=>{alert("已复制到剪贴板！")}).catch(()=>{t()}):t()},children:"复制 Copy"}),(0,l.jsx)(E.A,{variant:"contained",color:"error",fullWidth:!0,onClick:o,children:"清空 Clear"}),(0,l.jsx)(E.A,{variant:"contained",color:"info",fullWidth:!0,onClick:()=>{x(e=>!e)},children:"切换加权符号"})]})]})})})]})})},G=e=>{let{onVerify:t,onExpire:n,isVisible:a}=e,i=(0,r.useRef)(null),s=(0,r.useRef)(null),o="0x4AAAAAAB2E97PzSiDUYQxa";return(0,r.useEffect)(()=>{let e="turnstile-script",l=()=>{if(window.turnstile&&i.current&&!i.current.hasChildNodes()){let e=window.turnstile.render(i.current,{sitekey:o,callback:function(e){console.log("Challenge Success ".concat(e)),t(e)},"expired-callback":function(){console.log("Challenge Expired"),n(),s.current&&window.turnstile.reset(s.current)}});s.current=e}};if(document.getElementById(e))l();else{let t=document.createElement("script");t.id=e,t.src="https://challenges.cloudflare.com/turnstile/v0/api.js",t.async=!0,t.defer=!0,t.onload=l,document.head.appendChild(t)}a&&s.current&&window.turnstile&&window.turnstile.reset(s.current)},[t,n,o,a]),(0,l.jsx)("div",{ref:i})},F={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",outline:"none",textAlign:"center"};function L(){let[e,t]=(0,r.useState)([]),[n,f]=(0,r.useState)(!1),[g,m]=(0,r.useState)(!1),[j,A]=(0,r.useState)(null);(0,r.useEffect)(()=>{let e=setInterval(()=>{console.log("自动刷新验证状态"),f(!1)},6e5);return()=>clearInterval(e)},[]),(0,r.useEffect)(()=>{j&&403===j.status&&(console.log("检测到403错误，需要验证"),f(!1),m(!0),A(null))},[j]);let y=e=>{t(t=>[...t,{...e,id:Date.now().toString()+Math.random().toString()}])},b=async e=>{try{let t=await fetch("/api/verify-turnstile",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:e})}),n=await t.json();n.success?(console.log("验证成功！"),f(!0),m(!1)):(console.error("验证失败:",n.message),f(!1))}catch(e){console.error("验证Token时出错:",e),f(!1)}};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(a.A,{maxWidth:!1,disableGutters:!0,sx:{height:"100vh",p:1,display:"flex",flexDirection:"column",gap:.5},children:[(0,l.jsx)(u.A,{container:!0,spacing:.5,children:(0,l.jsx)(u.A,{size:{xs:12,md:12},children:(0,l.jsx)(J,{tags:e,onUpdateTag:e=>{t(t=>t.map(t=>t.id===e.id?e:t))},onDeleteTag:e=>{t(t=>t.filter(t=>t.id!==e))},onReorderTags:e=>{t(e)},onClearTags:()=>{t([])}})})}),(0,l.jsxs)(u.A,{container:!0,spacing:.5,sx:{flex:1,minHeight:{xs:550,sm:0}},children:[(0,l.jsx)(u.A,{size:{xs:12,md:8},sx:{height:"100%"},children:(0,l.jsx)(k,{onAddTag:y})}),(0,l.jsx)(u.A,{size:{xs:12,md:4},sx:{height:"100%"},children:(0,l.jsx)(O,{onAddTag:y,setApiError:A})})]})]}),(0,l.jsx)(i.A,{sx:{position:"fixed",bottom:32,right:32,backgroundColor:n?"success.main":"warning.main","&:hover":{backgroundColor:n?"success.dark":"warning.dark"}},onClick:()=>{m(!0)},"aria-label":"verify",children:n?(0,l.jsx)(h.A,{}):(0,l.jsx)(p.A,{})}),(0,l.jsx)(s.A,{open:g,onClose:()=>{m(!1)},closeAfterTransition:!0,slots:{backdrop:o.A},slotProps:{backdrop:{timeout:500,sx:{backgroundColor:"rgba(0, 0, 0, 0.7)"}}},children:(0,l.jsx)(c.A,{in:g,children:(0,l.jsxs)(d.A,{sx:F,children:[(0,l.jsx)(x.A,{sx:{color:"white",mb:2,fontSize:"1rem"},children:"请完成人机验证"}),(0,l.jsx)(G,{onVerify:b,onExpire:()=>f(!1),isVisible:g})]})})})]})}function M(){return(0,l.jsx)("div",{style:{height:"100vh"},children:(0,l.jsx)(L,{})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[371,441,517,358],()=>t(6330)),_N_E=e.O()}]);